<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Rich Styling · Draft.js</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta property="og:title" content="Rich Styling · Draft.js"/><meta property="og:type" content="website"/><meta property="og:url" content="https://draftjs.org/draft-js/index.html"/><meta property="og:description" content="Now that we have established the basics of the top-level API, we can go a step"/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/draft-js/undefined"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atelier-forest-light.min.css"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-44373548-19', 'auto');
              ga('send', 'pageview');
            </script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/draft-js/css/main.css"/></head><body class="sideNavVisible doc"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/draft-js/"><h2 class="headerTitle">Draft.js</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/draft-js/docs/getting-started.html" target="_self">Docs</a></li><li class=""><a href="https://github.com/facebook/draft-js" target="_self">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Quick Start</span></h2></div><div class="navGroups"><div class="navGroup navGroupActive"><h3>Quick Start</h3><ul><li class="navListItem"><a class="navItem" href="/draft-js/docs/getting-started.html">Overview</a></li><li class="navListItem"><a class="navItem" href="/draft-js/docs/quickstart-api-basics.html">API Basics</a></li><li class="navListItem navListItemActive"><a class="navItem navItemActive" href="/draft-js/docs/quickstart-rich-styling.html">Rich Styling</a></li></ul></div><div class="navGroup navGroupActive"><h3>Advanced Topics</h3><ul><li class="navListItem"><a class="navItem" href="/draft-js/docs/advanced-topics-entities.html">Entities</a></li><li class="navListItem"><a class="navItem" href="/draft-js/docs/v0-10-api-migration.html">v0.10 API Migration</a></li><li class="navListItem"><a class="navItem" href="/draft-js/docs/advanced-topics-decorators.html">Decorators</a></li><li class="navListItem"><a class="navItem" href="/draft-js/docs/advanced-topics-key-bindings.html">Key Bindings</a></li><li class="navListItem"><a class="navItem" href="/draft-js/docs/advanced-topics-managing-focus.html">Managing Focus</a></li><li class="navListItem"><a class="navItem" href="/draft-js/docs/advanced-topics-block-styling.html">Block Styling</a></li><li class="navListItem"><a class="navItem" href="/draft-js/docs/advanced-topics-custom-block-render-map.html">Custom Block Rendering</a></li><li class="navListItem"><a class="navItem" href="/draft-js/docs/advanced-topics-block-components.html">Custom Block Components</a></li><li class="navListItem"><a class="navItem" href="/draft-js/docs/advanced-topics-inline-styles.html">Complex Inline Styles</a></li><li class="navListItem"><a class="navItem" href="/draft-js/docs/advanced-topics-nested-lists.html">Nested Lists</a></li><li class="navListItem"><a class="navItem" href="/draft-js/docs/advanced-topics-text-direction.html">Text Direction</a></li><li class="navListItem"><a class="navItem" href="/draft-js/docs/advanced-topics-editorstate-race-conditions.html">EditorState Race Conditions</a></li><li class="navListItem"><a class="navItem" href="/draft-js/docs/advanced-topics-issues-and-pitfalls.html">Issues and Pitfalls</a></li></ul></div><div class="navGroup navGroupActive"><h3>API Reference</h3><ul><li class="navListItem"><a class="navItem" href="/draft-js/docs/api-reference-editor.html">Editor Component</a></li><li class="navListItem"><a class="navItem" href="/draft-js/docs/api-reference-editor-change-type.html">EditorChangeType</a></li><li class="navListItem"><a class="navItem" href="/draft-js/docs/api-reference-editor-state.html">EditorState</a></li><li class="navListItem"><a class="navItem" href="/draft-js/docs/api-reference-content-state.html">ContentState</a></li><li class="navListItem"><a class="navItem" href="/draft-js/docs/api-reference-content-block.html">ContentBlock</a></li><li class="navListItem"><a class="navItem" href="/draft-js/docs/api-reference-character-metadata.html">CharacterMetadata</a></li><li class="navListItem"><a class="navItem" href="/draft-js/docs/api-reference-entity.html">Entity</a></li><li class="navListItem"><a class="navItem" href="/draft-js/docs/api-reference-selection-state.html">SelectionState</a></li><li class="navListItem"><a class="navItem" href="/draft-js/docs/api-reference-composite-decorator.html">CompositeDecorator</a></li><li class="navListItem"><a class="navItem" href="/draft-js/docs/api-reference-data-conversion.html">Data Conversion</a></li><li class="navListItem"><a class="navItem" href="/draft-js/docs/api-reference-rich-utils.html">RichUtils</a></li><li class="navListItem"><a class="navItem" href="/draft-js/docs/api-reference-atomic-block-utils.html">AtomicBlockUtils</a></li><li class="navListItem"><a class="navItem" href="/draft-js/docs/api-reference-key-binding-util.html">KeyBindingUtil</a></li><li class="navListItem"><a class="navItem" href="/draft-js/docs/api-reference-modifier.html">Modifier</a></li></ul></div></div></section></div><script>
          var toggler = document.getElementById('navToggler');
          var nav = document.getElementById('docsNav');
          toggler.onclick = function() {
            nav.classList.toggle('docsSliderActive');
          };
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1>Rich Styling</h1></header><article><div><span><p>Now that we have established the basics of the top-level API, we can go a step
further and examine how basic rich styling can be added to a <code>Draft</code> editor.</p>
<p>A <a href="https://github.com/facebook/draft-js/tree/master/examples/draft-0-10-0/rich">rich text example</a>
is also available to follow along.</p>
<h2><a class="anchor" aria-hidden="true" id="editorstate-yours-to-command"></a><a href="#editorstate-yours-to-command" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>EditorState: Yours to Command</h2>
<p>The previous article introduced the <code>EditorState</code> object as a snapshot of the
full state of the editor, as provided by the <code>Editor</code> core via the
<code>onChange</code> prop.</p>
<p>However, since your top-level React component is responsible for maintaining the
state, you also have the freedom to apply changes to that <code>EditorState</code> object
in any way you see fit.</p>
<p>For inline and block style behavior, for example, the <a href="/docs/api-reference-rich-utils.html"><code>RichUtils</code></a> module
provides a number of useful functions to help manipulate state.</p>
<p>Similarly, the <a href="/docs/api-reference-modifier.html">Modifier</a> module also provides a
number of common operations that allow you to apply edits, including changes
to text, styles, and more. This module is a suite of edit functions that
compose simpler, smaller edit functions to return the desired <code>EditorState</code>
object.</p>
<p>For this example, we'll stick with <code>RichUtils</code> to demonstrate how to apply basic
rich styling within the top-level component.</p>
<h2><a class="anchor" aria-hidden="true" id="richutils-and-key-commands"></a><a href="#richutils-and-key-commands" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>RichUtils and Key Commands</h2>
<p><code>RichUtils</code> has information about the core key commands available to web editors,
such as Cmd+B (bold), Cmd+I (italic), and so on.</p>
<p>We can observe and handle key commands via the <code>handleKeyCommand</code> prop, and
hook these into <code>RichUtils</code> to apply or remove the desired style.</p>
<pre><code class="hljs css js"><span class="hljs-keyword">import</span> {Editor, EditorState, RichUtils} <span class="hljs-keyword">from</span> <span class="hljs-string">'draft-js'</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyEditor</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{
  <span class="hljs-keyword">constructor</span>(props) {
    <span class="hljs-keyword">super</span>(props);
    <span class="hljs-keyword">this</span>.state = {<span class="hljs-attr">editorState</span>: EditorState.createEmpty()};
    <span class="hljs-keyword">this</span>.onChange = <span class="hljs-function">(<span class="hljs-params">editorState</span>) =&gt;</span> <span class="hljs-keyword">this</span>.setState({editorState});
    <span class="hljs-keyword">this</span>.handleKeyCommand = <span class="hljs-keyword">this</span>.handleKeyCommand.bind(<span class="hljs-keyword">this</span>);
  }
  handleKeyCommand(command, editorState) {
    <span class="hljs-keyword">const</span> newState = RichUtils.handleKeyCommand(editorState, command);
    <span class="hljs-keyword">if</span> (newState) {
      <span class="hljs-keyword">this</span>.onChange(newState);
      <span class="hljs-keyword">return</span> <span class="hljs-string">'handled'</span>;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-string">'not-handled'</span>;
  }
  render() {
    <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Editor</span>
        <span class="hljs-attr">editorState</span>=<span class="hljs-string">{this.state.editorState}</span>
        <span class="hljs-attr">handleKeyCommand</span>=<span class="hljs-string">{this.handleKeyCommand}</span>
        <span class="hljs-attr">onChange</span>=<span class="hljs-string">{this.onChange}</span>
      /&gt;</span>
    );
  }
}
</span></code></pre>
<blockquote>
<p>handleKeyCommand</p>
<p>The <code>command</code> argument supplied to <code>handleKeyCommand</code> is a string value, the
name of the command to be executed. This is mapped from a DOM key event. The
<code>editorState</code> argument represents the latest editor state as it might be
changed internally by draft when handling the key. Use this instance of the
editor state inside <code>handleKeyCommand</code>. See
<a href="/docs/advanced-topics-key-bindings.html">Advanced Topics - Key Binding</a> for more
on this, as well as details on why the function returns <code>handled</code> or <code>not-handled</code>.</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="styling-controls-in-ui"></a><a href="#styling-controls-in-ui" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Styling Controls in UI</h2>
<p>Within your React component, you can add buttons or other controls to allow
the user to modify styles within the editor. In the example above, we are using
known key commands, but we can add more complex UI to provide these rich
features.</p>
<p>Here's a super-basic example with a &quot;Bold&quot; button to toggle the <code>BOLD</code> style.</p>
<pre><code class="hljs css js"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyEditor</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{
  <span class="hljs-comment">// …</span>

  _onBoldClick() {
    <span class="hljs-keyword">this</span>.onChange(RichUtils.toggleInlineStyle(<span class="hljs-keyword">this</span>.state.editorState, <span class="hljs-string">'BOLD'</span>));
  }

  render() {
    <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{this._onBoldClick.bind(this)}</span>&gt;</span>Bold<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Editor</span>
          <span class="hljs-attr">editorState</span>=<span class="hljs-string">{this.state.editorState}</span>
          <span class="hljs-attr">handleKeyCommand</span>=<span class="hljs-string">{this.handleKeyCommand}</span>
          <span class="hljs-attr">onChange</span>=<span class="hljs-string">{this.onChange}</span>
        /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    );
  }
}
</span></code></pre>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="quickstart-api-basics.html">← API Basics</a><a class="docs-next button" href="advanced-topics-entities.html">Entities →</a></div></div></div></div><footer class="nav-footer" id="footer"><section class="sitemap"><div><h5>Docs</h5><a href="/draft-js/docs/getting-started.html">Getting Started</a><a href="/draft-js/docs/api-reference-editor.html">API Reference</a></div><div><h5>Community</h5><a href="http://stackoverflow.com/questions/tagged/draftjs" target="_blank">Stack Overflow</a><a href="https://twitter.com/draft_js" target="_blank">Twitter</a></div><div><h5>More</h5><a href="https://github.com/noamelb/draft-js">GitHub</a><a class="github-button" href="https://github.com/noamelb/draft-js" data-icon="octicon-star" data-count-href="/noamelb/draft-js/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><a href="https://code.facebook.com/projects/" target="_blank" class="fbOpenSource"><img src="/draft-js/img/oss_logo.png" alt="Facebook Open Source" width="170" height="45"/></a><section class="copyright">Copyright © 2018 Facebook Inc.</section></footer></div></body></html>